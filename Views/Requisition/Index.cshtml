@{
    ViewData["Title"] = "Requisição de Compras";
}

<h2>Requisição de Compras</h2>

<form method="post" action="/requisition/submit">

    <fieldset>
        <legend>Dados Gerais</legend>

        <label>No. Requisição:</label>
        <br />
        <input type="text" name="Numero" />
        <br />
        <br />

        <label>Solicitante:</label>
        <br />
        <input type="text" name="Solicitante" />
        <br />
        <br />

        <label>Área:</label>
        <br />
        <input type="text" name="Area" />
        <br />
        <br />

        <label>Data:</label>
        <br />
        <input type="date" name="Data" />
        <br />
        <br />
    </fieldset>

    <hr />

    <fieldset>
        <label>Requisição dentro do orçado?</label>
        <input type="radio" id="sim" name="resposta" value="sim" />
        <label for="sim">Sim</label>

        <input type="radio" id="nao" name="resposta" value="nao" />
        <label for="nao">Não</label>
    </fieldset>

    <hr />

    <fieldset>
        <legend>Itens</legend>

        <div id="items">
            <div class="item">
                <label>Tipo:</label>
                <input type="text" name="Itens[0].Tipo" />

                <label>Quantidade:</label>
                <input type="number" name="Itens[0].Quantidade" />

                <label>Descrição:</label>
                <input type="text" name="Itens[0].Descricao" />

                <label>Valor:</label>
                <input type="number" step="0.01" name="Itens[0].Valor" />
            </div>
        </div>

        <br />
        <button type="button" onclick="addItem()">Adicionar item</button>
    </fieldset>

    <br />
    <button type="submit">Gerar Excel</button>
</form>

<script>
    let itemIndex = 1;

    function addItem() {
        const container = document.getElementById("items");

        const div = document.createElement("div");
        div.className = "item";

        div.innerHTML = `
            <hr />
            <label>Tipo:</label>
            <input type="text" name="Itens[${itemIndex}].Tipo" />

            <label>Quantidade:</label>
            <input type="number" name="Itens[${itemIndex}].Quantidade" />

            <label>Descrição:</label>
            <input type="text" name="Itens[${itemIndex}].Descricao" />

            <label>Valor:</label>
            <input type="number" step="0.01" name="Itens[${itemIndex}].Valor" />
        `;

        container.appendChild(div);
        itemIndex++;
    }
</script>

